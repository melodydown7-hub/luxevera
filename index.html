<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Luxe' Vera - Premium Mini Perfume</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<style>
@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700;800;900&family=Inter:wght@300;400;500;600;700&family=Cormorant+Garamond:wght@400;500;600;700&display=swap');

:root {
  --gold: #E5C68A;
  --dark: #121212;
  --card: #2B2B2B;
  --accent: #A68549;
  --gold10: rgba(229,198,138,.1);
  --gold15: rgba(229,198,138,.15);
  --gold25: rgba(229,198,138,.25);
}

* { margin:0; padding:0; box-sizing:border-box; }
html { scroll-behavior:smooth; }
body { font-family:'Inter',sans-serif; background:var(--dark); color:#fff; overflow-x:hidden; -webkit-font-smoothing:antialiased; }
h1,h2,h3,h4,h5 { font-family:'Playfair Display',serif; }

::-webkit-scrollbar { width:5px; }
::-webkit-scrollbar-track { background:var(--dark); }
::-webkit-scrollbar-thumb { background:var(--accent); border-radius:10px; }

/* ========== UTILITY ========== */
.g { color:var(--gold); }
.a { color:var(--accent); }
.section-label { letter-spacing:5px; font-size:11px; text-transform:uppercase; color:var(--accent); margin-bottom:10px; }
.section-title { font-size:2.4rem; color:var(--gold); margin-bottom:12px; }
.section-sub { color:#999; font-size:15px; max-width:600px; margin:0 auto 48px; }

/* ========== NAVBAR ========== */
.navbar {
  position:fixed; top:0; left:0; width:100%; z-index:900;
  background:rgba(18,18,18,.92); backdrop-filter:blur(18px) saturate(180%);
  border-bottom:1px solid var(--gold10);
  transition:all .3s;
}
.navbar.scrolled { box-shadow:0 4px 30px rgba(0,0,0,.4); }
.nav-inner { max-width:1200px; margin:0 auto; padding:14px 24px; display:flex; align-items:center; justify-content:space-between; }
.nav-brand { font-family:'Playfair Display',serif; font-size:1.5rem; color:var(--gold); letter-spacing:3px; font-weight:700; }
.nav-icons { display:flex; align-items:center; gap:18px; }
.nav-icon { position:relative; cursor:pointer; padding:6px; transition:all .25s; border-radius:8px; }
.nav-icon:hover { background:rgba(229,198,138,.08); }
.nav-icon i { font-size:19px; color:var(--gold); }
.badge-dot { position:absolute; top:2px; right:2px; width:8px; height:8px; background:#e74c3c; border-radius:50%; border:2px solid var(--dark); }
.badge-num { position:absolute; top:-2px; right:-4px; background:var(--gold); color:var(--dark); font-size:10px; font-weight:800; min-width:18px; height:18px; border-radius:9px; display:flex; align-items:center; justify-content:center; padding:0 4px; }

/* ========== HAMBURGER ========== */
.hamburger { display:flex; flex-direction:column; gap:5px; cursor:pointer; padding:6px; border-radius:8px; transition:background .25s; }
.hamburger:hover { background:rgba(229,198,138,.08); }
.hamburger span { width:24px; height:2px; background:var(--gold); transition:all .35s cubic-bezier(.68,-.55,.27,1.55); border-radius:2px; }
.hamburger.open span:nth-child(1) { transform:rotate(45deg) translate(5px,5px); }
.hamburger.open span:nth-child(2) { opacity:0; transform:scaleX(0); }
.hamburger.open span:nth-child(3) { transform:rotate(-45deg) translate(5px,-5px); }

/* ========== SIDE MENU ========== */
.side-overlay { position:fixed; inset:0; background:rgba(0,0,0,.65); z-index:950; opacity:0; pointer-events:none; transition:opacity .35s; backdrop-filter:blur(4px); }
.side-overlay.open { opacity:1; pointer-events:all; }
.side-menu { position:fixed; top:0; left:0; width:300px; height:100vh; background:linear-gradient(180deg,#1e1e1e,#181818); z-index:960; transform:translateX(-100%); transition:transform .4s cubic-bezier(.25,.46,.45,.94); padding:0; overflow-y:auto; border-right:1px solid var(--gold10); }
.side-menu.open { transform:translateX(0); }
.side-header { padding:24px; border-bottom:1px solid var(--gold10); }
.side-menu-links { padding:8px 0; }
.side-menu a { display:flex; align-items:center; gap:14px; padding:14px 24px; color:#ccc; text-decoration:none; font-size:14px; transition:all .25s; border-left:3px solid transparent; }
.side-menu a:hover { color:var(--gold); background:rgba(229,198,138,.04); border-left-color:var(--gold); }
.side-menu a i { width:20px; text-align:center; color:var(--accent); font-size:15px; }
.side-divider { height:1px; background:var(--gold10); margin:8px 24px; }
.side-footer { padding:20px 24px; border-top:1px solid var(--gold10); margin-top:auto; }

/* ========== BUTTONS ========== */
.btn { display:inline-flex; align-items:center; gap:8px; padding:12px 28px; border-radius:8px; font-size:14px; font-weight:600; cursor:pointer; transition:all .3s; border:none; text-decoration:none; font-family:'Inter',sans-serif; }
.btn-primary { background:linear-gradient(135deg,var(--gold),var(--accent)); color:var(--dark); }
.btn-primary:hover { transform:translateY(-2px); box-shadow:0 6px 24px rgba(229,198,138,.3); }
.btn-outline { background:transparent; border:1.5px solid var(--gold); color:var(--gold); }
.btn-outline:hover { background:var(--gold); color:var(--dark); }
.btn-sm { padding:8px 18px; font-size:13px; border-radius:6px; }
.btn-danger { border-color:#e74c3c; color:#e74c3c; }
.btn-danger:hover { background:#e74c3c; color:#fff; }

/* ========== HERO ========== */
.hero {
  min-height:100vh; display:flex; align-items:center; justify-content:center; text-align:center;
  padding:120px 24px 80px;
  background:radial-gradient(ellipse at 50% 30%, rgba(166,133,73,.12) 0%, transparent 60%),
             radial-gradient(ellipse at 80% 80%, rgba(229,198,138,.06) 0%, transparent 40%),
             var(--dark);
  position:relative; overflow:hidden;
}
.hero::before {
  content:''; position:absolute; top:50%; left:50%; width:600px; height:600px;
  background:radial-gradient(circle, rgba(229,198,138,.05) 0%, transparent 70%);
  transform:translate(-50%,-50%); pointer-events:none;
}
.hero-badge { display:inline-flex; align-items:center; gap:8px; padding:8px 20px; border:1px solid var(--gold25); border-radius:50px; margin-bottom:24px; background:rgba(229,198,138,.05); }
.hero-badge span { font-size:12px; color:var(--gold); letter-spacing:3px; text-transform:uppercase; }
.hero-title { font-size:4rem; color:var(--gold); line-height:1.1; margin-bottom:20px; font-weight:700; }
.hero-desc { color:#aaa; font-size:16px; line-height:1.8; max-width:560px; margin:0 auto 16px; }
.hero-specs { display:flex; gap:24px; justify-content:center; margin-bottom:40px; flex-wrap:wrap; }
.hero-spec { display:flex; align-items:center; gap:8px; color:#888; font-size:13px; }
.hero-spec i { color:var(--accent); }

/* ========== PRODUCT CARDS ========== */
.products-grid { display:grid; grid-template-columns:repeat(3,1fr); gap:28px; max-width:1100px; margin:0 auto; }
.p-card {
  background:var(--card); border:1px solid var(--gold10); border-radius:16px; overflow:hidden;
  transition:all .4s cubic-bezier(.25,.46,.45,.94); position:relative;
}
.p-card:hover { border-color:var(--gold25); transform:translateY(-6px); box-shadow:0 20px 50px rgba(0,0,0,.4),0 0 40px rgba(229,198,138,.06); }
.p-card-img { width:100%; height:240px; overflow:hidden; position:relative; }
.p-card-img img { width:100%; height:100%; object-fit:cover; transition:transform .5s; }
.p-card:hover .p-card-img img { transform:scale(1.05); }
.p-card-placeholder { width:100%; height:100%; background:linear-gradient(135deg,rgba(43,43,43,1),rgba(166,133,73,.15)); display:flex; align-items:center; justify-content:center; }
.p-card-placeholder i { font-size:56px; color:rgba(166,133,73,.3); }
.p-card-body { padding:24px; }
.p-card-name { font-size:1.2rem; color:var(--gold); margin-bottom:8px; }
.p-card-desc { font-size:13px; color:#999; line-height:1.7; margin-bottom:16px; display:-webkit-box; -webkit-line-clamp:3; -webkit-box-orient:vertical; overflow:hidden; }
.p-card-meta { font-size:12px; color:#777; margin-bottom:16px; display:flex; align-items:center; gap:6px; }
.p-card-footer { display:flex; justify-content:space-between; align-items:center; }
.p-card-price { font-family:'Playfair Display',serif; font-size:1.6rem; color:var(--gold); font-weight:700; }
.p-card-price small { font-size:.7em; font-weight:400; color:var(--accent); }

/* ========== STORY ========== */
.story-section { background:linear-gradient(180deg,var(--card),rgba(43,43,43,.6)); }
.story-content { max-width:860px; margin:0 auto; }
.story-content p { color:#bbb; line-height:2; font-size:15px; margin-bottom:20px; }

/* ========== HIGHLIGHTS ========== */
.highlights-grid { display:grid; grid-template-columns:repeat(5,1fr); gap:16px; max-width:1100px; margin:0 auto; }
.h-card { text-align:center; padding:28px 16px; border:1px solid var(--gold10); border-radius:12px; transition:all .3s; background:rgba(43,43,43,.4); }
.h-card:hover { border-color:var(--gold25); background:rgba(229,198,138,.04); transform:translateY(-3px); }
.h-card i { font-size:26px; color:var(--gold); margin-bottom:14px; }
.h-card p { color:#bbb; font-size:13px; line-height:1.6; }

/* ========== TEAM ========== */
.team-grid { display:grid; grid-template-columns:repeat(4,1fr); gap:24px; max-width:1100px; margin:0 auto; }
.t-card { background:var(--card); border:1px solid var(--gold10); border-radius:16px; padding:32px 20px; text-align:center; transition:all .4s; }
.t-card:hover { border-color:var(--gold25); transform:translateY(-5px); box-shadow:0 16px 40px rgba(0,0,0,.3); }
.t-avatar { width:100px; height:100px; border-radius:50%; margin:0 auto 16px; overflow:hidden; border:3px solid var(--accent); background:linear-gradient(135deg,var(--card),rgba(166,133,73,.2)); display:flex; align-items:center; justify-content:center; }
.t-avatar img { width:100%; height:100%; object-fit:cover; }
.t-avatar i { font-size:36px; color:rgba(166,133,73,.4); }
.t-name { font-size:1.1rem; color:var(--gold); margin-bottom:4px; }
.t-role { font-size:12px; color:var(--accent); text-transform:uppercase; letter-spacing:2px; margin-bottom:12px; }
.t-desc { font-size:12px; color:#999; line-height:1.6; }

/* ========== TESTIMONIALS ========== */
.test-grid { display:grid; grid-template-columns:repeat(3,1fr); gap:24px; max-width:1200px; margin:0 auto; }
.test-card { background:var(--card); border:1px solid var(--gold10); border-radius:16px; padding:28px; transition:all .3s; position:relative; }
.test-card:hover { border-color:var(--gold25); }
.test-card::before { content:'\201C'; font-family:'Playfair Display',serif; font-size:72px; color:rgba(229,198,138,.1); position:absolute; top:8px; left:20px; line-height:1; }
.test-header { display:flex; align-items:center; gap:14px; margin-bottom:18px; position:relative; z-index:1; }
.test-avatar { width:48px; height:48px; border-radius:50%; overflow:hidden; flex-shrink:0; border:2px solid var(--accent); background:linear-gradient(135deg,var(--accent),var(--gold)); display:flex; align-items:center; justify-content:center; }
.test-avatar img { width:100%; height:100%; object-fit:cover; }
.test-avatar span { color:var(--dark); font-weight:800; font-size:18px; }
.test-name { color:var(--gold); font-weight:600; font-size:14px; }
.test-title { color:var(--accent); font-size:12px; }
.test-text { color:#bbb; font-size:14px; line-height:1.8; font-style:italic; position:relative; z-index:1; }
.test-stars { margin-top:14px; color:var(--gold); font-size:12px; display:flex; gap:3px; }

/* ========== FAQ ========== */
.faq-list { max-width:780px; margin:0 auto; }
.faq-item { border:1px solid var(--gold10); border-radius:10px; margin-bottom:10px; overflow:hidden; transition:border-color .3s; }
.faq-item:hover { border-color:var(--gold25); }
.faq-q { padding:18px 22px; cursor:pointer; display:flex; justify-content:space-between; align-items:center; background:var(--card); color:var(--gold); font-weight:500; font-size:14px; gap:12px; user-select:none; }
.faq-q i { transition:transform .35s; font-size:12px; flex-shrink:0; }
.faq-q.active i { transform:rotate(180deg); }
.faq-a { max-height:0; overflow:hidden; transition:max-height .4s ease, padding .4s ease; color:#bbb; font-size:14px; line-height:1.8; padding:0 22px; background:rgba(43,43,43,.5); }
.faq-a.active { max-height:400px; padding:18px 22px; }

/* ========== CONTACT ========== */
.contact-grid { display:grid; grid-template-columns:repeat(4,1fr); gap:20px; max-width:1000px; margin:0 auto; }
.c-card { padding:28px 20px; border:1px solid var(--gold10); border-radius:12px; text-align:center; transition:all .3s; background:rgba(43,43,43,.3); }
.c-card:hover { border-color:var(--gold25); background:rgba(229,198,138,.04); }
.c-card i { font-size:26px; color:var(--gold); margin-bottom:12px; }
.c-card p { color:#ccc; font-size:13px; line-height:1.6; }
.c-card .c-label { font-size:11px; color:var(--accent); text-transform:uppercase; letter-spacing:2px; margin-bottom:8px; }

/* ========== FOOTER ========== */
.footer { padding:36px 24px; border-top:1px solid var(--gold10); text-align:center; }

/* ========== MODALS ========== */
.modal-overlay { position:fixed; inset:0; background:rgba(0,0,0,.75); z-index:2000; opacity:0; pointer-events:none; transition:opacity .3s; display:flex; align-items:center; justify-content:center; backdrop-filter:blur(6px); padding:20px; }
.modal-overlay.open { opacity:1; pointer-events:all; }
.modal { background:linear-gradient(180deg,#262626,#1a1a1a); border:1px solid var(--gold15); border-radius:16px; padding:32px; max-width:640px; width:100%; max-height:85vh; overflow-y:auto; position:relative; transform:scale(.95) translateY(20px); transition:transform .35s cubic-bezier(.25,.46,.45,.94); }
.modal-overlay.open .modal { transform:scale(1) translateY(0); }
.modal-close { position:absolute; top:16px; right:20px; font-size:22px; color:var(--gold); cursor:pointer; background:none; border:none; width:36px; height:36px; border-radius:8px; display:flex; align-items:center; justify-content:center; transition:background .2s; }
.modal-close:hover { background:rgba(229,198,138,.1); }
.modal h3 { font-size:1.3rem; color:var(--gold); margin-bottom:24px; display:flex; align-items:center; gap:10px; }
.modal h3 i { color:var(--accent); }

/* ========== FORM ELEMENTS ========== */
.form-group { margin-bottom:18px; }
.form-label { display:block; font-size:12px; color:var(--accent); margin-bottom:6px; text-transform:uppercase; letter-spacing:1px; font-weight:600; }
.form-input { width:100%; padding:12px 16px; background:var(--dark); border:1.5px solid rgba(229,198,138,.2); color:#fff; border-radius:8px; font-size:14px; font-family:'Inter',sans-serif; transition:border-color .3s, box-shadow .3s; }
.form-input:focus { outline:none; border-color:var(--gold); box-shadow:0 0 0 3px rgba(229,198,138,.1); }
select.form-input { cursor:pointer; }
select.form-input option { background:var(--dark); }
textarea.form-input { resize:vertical; min-height:70px; }

/* ========== TOAST ========== */
.toast-container { position:fixed; bottom:24px; right:24px; z-index:9999; display:flex; flex-direction:column; gap:8px; }
.toast { background:linear-gradient(135deg,#262626,#1e1e1e); border:1px solid var(--gold25); color:var(--gold); padding:14px 22px; border-radius:10px; font-size:14px; font-weight:500; transform:translateX(120%); transition:transform .4s cubic-bezier(.25,.46,.45,.94); display:flex; align-items:center; gap:10px; box-shadow:0 8px 30px rgba(0,0,0,.5); max-width:360px; }
.toast.show { transform:translateX(0); }
.toast i { font-size:18px; }

/* ========== CART ITEM ========== */
.cart-item { display:flex; align-items:center; gap:14px; padding:16px 0; border-bottom:1px solid var(--gold10); }
.cart-item-img { width:56px; height:56px; border-radius:10px; overflow:hidden; flex-shrink:0; background:var(--dark); display:flex; align-items:center; justify-content:center; }
.cart-item-img img { width:100%; height:100%; object-fit:cover; }
.cart-item-img i { color:var(--accent); font-size:20px; }
.cart-item-info { flex:1; min-width:0; }
.cart-item-name { font-size:14px; color:var(--gold); font-weight:600; }
.cart-item-price { font-size:13px; color:#999; }
.qty-controls { display:flex; align-items:center; gap:6px; }
.qty-btn { width:30px; height:30px; border:1px solid var(--gold25); background:transparent; color:var(--gold); cursor:pointer; border-radius:6px; font-size:14px; display:flex; align-items:center; justify-content:center; transition:all .2s; }
.qty-btn:hover { background:var(--gold); color:var(--dark); }
.qty-val { min-width:24px; text-align:center; color:#ccc; font-size:14px; font-weight:600; }
.cart-item-total { color:var(--gold); font-weight:700; min-width:56px; text-align:right; font-size:14px; }
.cart-item-del { background:none; border:none; color:#777; cursor:pointer; font-size:14px; padding:6px; border-radius:6px; transition:all .2s; }
.cart-item-del:hover { color:#e74c3c; background:rgba(231,76,60,.1); }

/* ========== ORDER CARD ========== */
.order-card { border:1px solid var(--gold10); border-radius:12px; padding:18px; margin-bottom:14px; transition:border-color .3s; }
.order-card:hover { border-color:var(--gold25); }
.order-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:10px; flex-wrap:wrap; gap:8px; }
.order-id { color:var(--gold); font-weight:700; font-size:14px; }
.order-date { color:#777; font-size:12px; }
.order-status { padding:4px 14px; border-radius:20px; font-size:11px; font-weight:700; text-transform:uppercase; letter-spacing:1px; }
.status-placed { background:rgba(46,204,113,.12); color:#2ecc71; }
.status-cancelled { background:rgba(231,76,60,.12); color:#e74c3c; }

/* ========== EDIT TAB ========== */
.edit-tabs { display:flex; gap:6px; margin-bottom:24px; flex-wrap:wrap; }
.edit-tab { padding:8px 18px; border-radius:8px; font-size:13px; font-weight:600; cursor:pointer; transition:all .25s; border:1.5px solid var(--gold25); background:transparent; color:var(--gold); font-family:'Inter',sans-serif; }
.edit-tab.active { background:var(--gold); color:var(--dark); border-color:var(--gold); }
.edit-card { border:1px solid var(--gold10); border-radius:12px; padding:18px; margin-bottom:14px; }
.edit-card h4 { color:var(--gold); font-size:1rem; margin-bottom:14px; }

/* ========== SUMMARY BOX ========== */
.summary-box { background:var(--dark); border:1px solid var(--gold10); border-radius:10px; padding:18px; margin-bottom:20px; }
.summary-row { display:flex; justify-content:space-between; color:#ccc; font-size:13px; margin-bottom:6px; }
.summary-total { display:flex; justify-content:space-between; color:var(--gold); font-size:18px; font-weight:700; margin-top:10px; padding-top:10px; border-top:1px solid var(--gold10); }

/* ========== NOTIF ========== */
.notif-item { padding:14px 0; border-bottom:1px solid var(--gold10); }
.notif-item.read { opacity:.5; }
.notif-msg { color:#ccc; font-size:14px; line-height:1.6; }
.notif-time { color:#666; font-size:11px; margin-top:4px; }

/* ========== RESPONSIVE ========== */
@media(max-width:1024px) {
  .products-grid { grid-template-columns:repeat(2,1fr); }
  .highlights-grid { grid-template-columns:repeat(3,1fr); }
  .team-grid { grid-template-columns:repeat(2,1fr); }
  .contact-grid { grid-template-columns:repeat(2,1fr); }
}
@media(max-width:768px) {
  .hero-title { font-size:2.6rem !important; }
  .section-title { font-size:1.8rem; }
  .products-grid { grid-template-columns:1fr; max-width:420px; }
  .test-grid { grid-template-columns:1fr; }
  .highlights-grid { grid-template-columns:repeat(2,1fr); }
  .team-grid { grid-template-columns:repeat(2,1fr); }
  .contact-grid { grid-template-columns:1fr 1fr; }
  .hero-specs { flex-direction:column; align-items:center; gap:10px; }
}
@media(max-width:480px) {
  .hero-title { font-size:2rem !important; }
  .team-grid { grid-template-columns:1fr; max-width:300px; margin:0 auto; }
  .highlights-grid { grid-template-columns:1fr; max-width:320px; }
  .contact-grid { grid-template-columns:1fr; }
  .modal { padding:24px 18px; }
}

/* ========== ANIMATIONS ========== */
.reveal { opacity:0; transform:translateY(30px); transition:all .7s cubic-bezier(.25,.46,.45,.94); }
.reveal.visible { opacity:1; transform:translateY(0); }
.float-anim { animation:floatY 6s ease-in-out infinite; }
@keyframes floatY { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-10px)} }
</style>
</head>
<body>

<!-- TOAST CONTAINER -->
<div class="toast-container" id="toastContainer"></div>

<!-- ========== NAVBAR ========== -->
<nav class="navbar" id="navbar">
  <div class="nav-inner">
    <div style="display:flex;align-items:center;gap:14px;">
      <div class="hamburger" id="hamburgerBtn" onclick="toggleSideMenu()">
        <span></span><span></span><span></span>
      </div>
      <div class="nav-brand">LUXE' VERA</div>
    </div>
    <div class="nav-icons">
      <div class="nav-icon" onclick="openModal('notifModal')">
        <i class="fas fa-bell"></i>
        <div class="badge-dot" id="notifDot" style="display:none;"></div>
      </div>
      <div class="nav-icon" onclick="openModal('cartModal')">
        <i class="fas fa-shopping-bag"></i>
        <div class="badge-num" id="cartBadge" style="display:none;">0</div>
      </div>
      <div class="nav-icon" onclick="openModal('settingsModal')">
        <i class="fas fa-cog"></i>
      </div>
    </div>
  </div>
</nav>

<!-- ========== SIDE MENU ========== -->
<div class="side-overlay" id="sideOverlay" onclick="toggleSideMenu()"></div>
<div class="side-menu" id="sideMenu">
  <div class="side-header">
    <div class="nav-brand" style="font-size:1.2rem;">LUXE' VERA</div>
    <p style="color:#777;font-size:12px;margin-top:4px;">Premium Mini Perfume</p>
  </div>
  <div class="side-menu-links">
    <a href="#home" onclick="toggleSideMenu()"><i class="fas fa-home"></i> Home</a>
    <a href="#products" onclick="toggleSideMenu()"><i class="fas fa-spray-can"></i> Collection</a>
    <a href="#story" onclick="toggleSideMenu()"><i class="fas fa-book-open"></i> Our Story</a>
    <a href="#team" onclick="toggleSideMenu()"><i class="fas fa-users"></i> The Team</a>
    <a href="#testimonials" onclick="toggleSideMenu()"><i class="fas fa-quote-right"></i> Testimonials</a>
    <a href="#faq" onclick="toggleSideMenu()"><i class="fas fa-question-circle"></i> FAQ</a>
    <a href="#contact" onclick="toggleSideMenu()"><i class="fas fa-envelope"></i> Contact</a>
    <div class="side-divider"></div>
    <a href="javascript:void(0)" onclick="openModal('orderHistoryModal');toggleSideMenu()"><i class="fas fa-history"></i> Order History</a>
    <a href="javascript:void(0)" onclick="openModal('settingsModal');toggleSideMenu()"><i class="fas fa-cog"></i> Settings</a>
  </div>
  <div class="side-footer">
    <p style="color:#555;font-size:11px;margin-bottom:8px;">Administration</p>
    <div style="display:flex;gap:6px;">
      <input type="password" class="form-input" id="sideCodeInput" placeholder="Access code..." style="padding:8px 12px;font-size:13px;" onkeydown="if(event.key==='Enter')checkAccessCode()">
      <button class="btn btn-outline btn-sm" style="flex-shrink:0;padding:8px 14px;" onclick="checkAccessCode()"><i class="fas fa-key"></i></button>
    </div>
  </div>
</div>

<!-- ========== HERO ========== -->
<section id="home" class="hero">
  <div style="position:relative;z-index:1;">
    <div class="hero-badge float-anim">
      <i class="fas fa-gem" style="color:var(--gold);font-size:12px;"></i>
      <span>Premium Mini Perfume</span>
    </div>
    <h1 class="hero-title">Luxe' Vera</h1>
    <p class="hero-desc">Crafted for those who seek elegance in every detail. A luxurious fragrance experience in a compact, travel-friendly design.</p>
    <div class="hero-specs">
      <div class="hero-spec"><i class="fas fa-flask"></i> 10ml</div>
      <div class="hero-spec"><i class="fas fa-clock"></i> 6-8 Hours</div>
      <div class="hero-spec"><i class="fas fa-venus-mars"></i> Unisex</div>
      <div class="hero-spec"><i class="fas fa-suitcase"></i> Travel-Friendly</div>
    </div>
    <a href="#products" class="btn btn-primary" style="padding:16px 40px;font-size:15px;border-radius:10px;">
      <i class="fas fa-sparkles"></i> Explore Collection
    </a>
  </div>
</section>

<!-- ========== PRODUCTS ========== -->
<section id="products" style="padding:100px 24px;">
  <div style="text-align:center;margin-bottom:56px;" class="reveal">
    <p class="section-label">Our Collection</p>
    <h2 class="section-title">Signature Fragrances</h2>
    <p class="section-sub">Each scent is thoughtfully curated to ensure long-lasting performance while maintaining a sophisticated character.</p>
  </div>
  <div class="products-grid" id="productGrid"></div>
</section>

<!-- ========== STORY ========== -->
<section id="story" class="story-section" style="padding:100px 24px;">
  <div style="text-align:center;margin-bottom:48px;" class="reveal">
    <p class="section-label">Since 2021</p>
    <h2 class="section-title">The Story</h2>
  </div>
  <div class="story-content reveal">
    <p>Luxe' Vera was founded in 2021 with the goal of creating premium-quality fragrances in a mini perfume format that blends elegance, convenience, and affordability. The brand was inspired by the growing demand for portable fragrances that suit busy, modern lifestyles while still delivering a refined and luxurious scent experience. Luxe' Vera believes that fragrance should be effortless to carry, easy to use, and powerful in expressing personal identity.</p>
    <p>From the beginning, Luxe' Vera has placed strong emphasis on careful fragrance selection, stylish and modern packaging, and consistent product quality. Every scent is thoughtfully curated to ensure long-lasting performance while maintaining a sophisticated character.</p>
  </div>
</section>

<!-- ========== HIGHLIGHTS ========== -->
<section style="padding:100px 24px;">
  <div style="text-align:center;margin-bottom:56px;" class="reveal">
    <p class="section-label">Why Luxe' Vera</p>
    <h2 class="section-title">Client Experience Highlights</h2>
  </div>
  <div class="highlights-grid reveal">
    <div class="h-card"><i class="fas fa-gem"></i><p>Exquisite, long-lasting fragrance</p></div>
    <div class="h-card"><i class="fas fa-wind"></i><p>Refined and elegant aroma profile</p></div>
    <div class="h-card"><i class="fas fa-suitcase-rolling"></i><p>Discreet, travel-friendly design</p></div>
    <div class="h-card"><i class="fas fa-gift"></i><p>Premium presentation and packaging</p></div>
    <div class="h-card"><i class="fas fa-crown"></i><p>Exceptional value within the luxury segment</p></div>
  </div>
</section>

<!-- ========== TEAM ========== -->
<section id="team" style="padding:100px 24px;background:var(--card);">
  <div style="text-align:center;margin-bottom:56px;" class="reveal">
    <p class="section-label">Meet Us</p>
    <h2 class="section-title">The Team</h2>
    <p class="section-sub">The passionate individuals behind Luxe' Vera's success.</p>
  </div>
  <div class="team-grid reveal" id="teamGrid"></div>
</section>

<!-- ========== TESTIMONIALS ========== -->
<section id="testimonials" style="padding:100px 24px;">
  <div style="text-align:center;margin-bottom:56px;" class="reveal">
    <p class="section-label">What They Say</p>
    <h2 class="section-title">Voices of Elegance</h2>
    <p class="section-sub">Hear from our valued clients about their Luxe' Vera experience.</p>
  </div>
  <div class="test-grid reveal" id="testimonialGrid"></div>
</section>

<!-- ========== FAQ ========== -->
<section id="faq" style="padding:100px 24px;background:var(--card);">
  <div style="text-align:center;margin-bottom:56px;" class="reveal">
    <p class="section-label">Need Help?</p>
    <h2 class="section-title">Frequently Asked Questions</h2>
  </div>
  <div class="faq-list reveal" id="faqContainer"></div>
</section>

<!-- ========== CONTACT ========== -->
<section id="contact" style="padding:100px 24px;">
  <div style="text-align:center;margin-bottom:56px;" class="reveal">
    <p class="section-label">Reach Out</p>
    <h2 class="section-title">Contact & Socials</h2>
  </div>
  <div class="contact-grid reveal">
    <div class="c-card">
      <i class="fab fa-whatsapp"></i>
      <p class="c-label">WhatsApp</p>
      <p>+60 17-323-4911</p>
    </div>
    <div class="c-card">
      <i class="fas fa-envelope"></i>
      <p class="c-label">Email</p>
      <p>luxevera@gmail.com</p>
    </div>
    <div class="c-card">
      <i class="fas fa-hashtag"></i>
      <p class="c-label">Socials</p>
      <p>@Luxevera.co</p>
    </div>
    <div class="c-card">
      <i class="fas fa-store"></i>
      <p class="c-label">Store</p>
      <p>Lot 386 Selinsing 17639 Kota Bharu Kelantan</p>
    </div>
  </div>
</section>

<!-- ========== FOOTER ========== -->
<footer class="footer">
  <p style="font-family:'Playfair Display',serif;font-size:1.2rem;color:var(--gold);margin-bottom:6px;letter-spacing:2px;">LUXE' VERA</p>
  <p style="color:#555;font-size:12px;">&copy; 2025 Luxe' Vera. All rights reserved.</p>
</footer>

<!-- ========== CART MODAL ========== -->
<div class="modal-overlay" id="cartModal">
  <div class="modal" style="max-width:620px;">
    <button class="modal-close" onclick="closeModal('cartModal')">&times;</button>
    <h3><i class="fas fa-shopping-bag"></i> Your Cart</h3>
    <div id="cartItems"></div>
    <div id="cartFooter" style="display:none;">
      <div class="summary-box" style="margin-top:16px;">
        <div class="summary-row"><span>Subtotal</span><span id="cartSubtotal">RM 0</span></div>
        <div class="summary-row"><span>Shipping (est.)</span><span id="cartShipping">RM 8</span></div>
        <div class="summary-total"><span>Total</span><span id="cartTotal">RM 0</span></div>
      </div>
      <button class="btn btn-primary" style="width:100%;justify-content:center;padding:14px;" onclick="proceedCheckout()">
        <i class="fas fa-arrow-right"></i> Proceed to Checkout
      </button>
    </div>
    <div id="cartEmpty" style="text-align:center;padding:48px 0;">
      <i class="fas fa-shopping-bag" style="font-size:48px;color:rgba(229,198,138,.15);margin-bottom:16px;"></i>
      <p style="color:#666;">Your cart is empty</p>
    </div>
  </div>
</div>

<!-- ========== CHECKOUT MODAL ========== -->
<div class="modal-overlay" id="checkoutModal">
  <div class="modal" style="max-width:580px;">
    <button class="modal-close" onclick="closeModal('checkoutModal')">&times;</button>
    <h3><i class="fas fa-credit-card"></i> Checkout</h3>
    <div class="form-group">
      <label class="form-label">Full Name *</label>
      <input class="form-input" type="text" id="coName" placeholder="Your full name">
    </div>
    <div class="form-group">
      <label class="form-label">Email *</label>
      <input class="form-input" type="email" id="coEmail" placeholder="you@example.com">
    </div>
    <div class="form-group">
      <label class="form-label">Phone *</label>
      <input class="form-input" type="tel" id="coPhone" placeholder="+60 12-345-6789">
    </div>
    <div class="form-group">
      <label class="form-label">Delivery Address *</label>
      <textarea class="form-input" id="coAddress" rows="3" placeholder="Full delivery address"></textarea>
    </div>
    <div class="form-group">
      <label class="form-label">Postcode *</label>
      <input class="form-input" type="text" id="coPostcode" placeholder="12345">
    </div>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:14px;">
      <div class="form-group">
        <label class="form-label">Shipping Speed</label>
        <select class="form-input" id="coShipping" onchange="updateCheckoutSummary()">
          <option value="8">Standard 5 days - RM 8</option>
          <option value="10">Express 3 days - RM 10</option>
          <option value="12">Priority 2 days - RM 12</option>
        </select>
      </div>
      <div class="form-group">
        <label class="form-label">Payment Method</label>
        <select class="form-input" id="coPayment">
          <option value="Online Bank Transfer">Online Bank Transfer</option>
          <option value="Credit / Debit Card">Credit / Debit Card</option>
          <option value="Touch n Go eWallet">Touch 'n Go eWallet</option>
          <option value="GrabPay">GrabPay</option>
          <option value="QR Payment">QR Payment</option>
          <option value="Cash">Cash</option>
        </select>
      </div>
    </div>
    <div id="coSummary" class="summary-box"></div>
    <button class="btn btn-primary" style="width:100%;justify-content:center;padding:14px;font-size:15px;" onclick="placeOrder()">
      <i class="fas fa-check-circle"></i> Place Order
    </button>
  </div>
</div>

<!-- ========== SETTINGS MODAL ========== -->
<div class="modal-overlay" id="settingsModal">
  <div class="modal" style="max-width:520px;">
    <button class="modal-close" onclick="closeModal('settingsModal')">&times;</button>
    <h3><i class="fas fa-cog"></i> Settings</h3>
    <div class="form-group">
      <label class="form-label">Full Name</label>
      <input class="form-input" type="text" id="setName" placeholder="Your name">
    </div>
    <div class="form-group">
      <label class="form-label">Email</label>
      <input class="form-input" type="email" id="setEmail" placeholder="your@email.com">
    </div>
    <div class="form-group">
      <label class="form-label">Phone</label>
      <input class="form-input" type="tel" id="setPhone" placeholder="+60 12-345-6789">
    </div>
    <div class="form-group">
      <label class="form-label">Address</label>
      <textarea class="form-input" id="setAddress" rows="2" placeholder="Full address"></textarea>
    </div>
    <div class="form-group">
      <label class="form-label">Postcode</label>
      <input class="form-input" type="text" id="setPostcode" placeholder="12345">
    </div>
    <div class="form-group">
      <label class="form-label">Preferred Payment</label>
      <select class="form-input" id="setPayment">
        <option value="">Select...</option>
        <option value="Online Bank Transfer">Online Bank Transfer</option>
        <option value="Credit / Debit Card">Credit / Debit Card</option>
        <option value="Touch n Go eWallet">Touch 'n Go eWallet</option>
        <option value="GrabPay">GrabPay</option>
        <option value="QR Payment">QR Payment</option>
        <option value="Cash">Cash</option>
      </select>
    </div>
    <button class="btn btn-primary" style="width:100%;justify-content:center;padding:14px;" onclick="saveSettings()">
      <i class="fas fa-save"></i> Save Settings
    </button>
  </div>
</div>

<!-- ========== NOTIFICATIONS MODAL ========== -->
<div class="modal-overlay" id="notifModal">
  <div class="modal" style="max-width:480px;">
    <button class="modal-close" onclick="closeModal('notifModal')">&times;</button>
    <h3><i class="fas fa-bell"></i> Notifications</h3>
    <div id="notifList"></div>
    <div id="notifEmpty" style="text-align:center;padding:48px 0;">
      <i class="fas fa-bell-slash" style="font-size:40px;color:rgba(229,198,138,.12);margin-bottom:14px;"></i>
      <p style="color:#666;">No notifications yet</p>
    </div>
  </div>
</div>

<!-- ========== ORDER HISTORY MODAL ========== -->
<div class="modal-overlay" id="orderHistoryModal">
  <div class="modal" style="max-width:680px;">
    <button class="modal-close" onclick="closeModal('orderHistoryModal')">&times;</button>
    <h3><i class="fas fa-history"></i> Order History</h3>
    <div id="orderHistoryList"></div>
    <div id="orderHistoryEmpty" style="text-align:center;padding:48px 0;">
      <i class="fas fa-box-open" style="font-size:40px;color:rgba(229,198,138,.12);margin-bottom:14px;"></i>
      <p style="color:#666;">No orders yet</p>
    </div>
  </div>
</div>

<!-- ========== EDIT MODAL ========== -->
<div class="modal-overlay" id="editModal">
  <div class="modal" style="max-width:720px;">
    <button class="modal-close" onclick="closeModal('editModal')">&times;</button>
    <h3><i class="fas fa-edit"></i> Edit Mode</h3>
    <div class="edit-tabs">
      <button class="edit-tab active" id="etProducts" onclick="showEditTab('products')">Products</button>
      <button class="edit-tab" id="etTeam" onclick="showEditTab('team')">Team</button>
      <button class="edit-tab" id="etTestimonials" onclick="showEditTab('testimonials')">Testimonials</button>
    </div>
    <div id="editContent"></div>
  </div>
</div>

<!-- HIDDEN FRAME FOR FORM SUBMIT -->
<iframe name="hiddenFrame" style="display:none;"></iframe>

<script>
// ====================== DATA ======================
let products = [
  { id:1, name:"Signature Single", desc:"Crafted with a refined fragrance blend, this mini perfume delivers a long-lasting scent in a compact size, perfect for daily use or travel, offering elegance and confidence in every spray.", price:15, img:"assets/signature_single.jpg" },
  { id:2, name:"Exclusive Duo", desc:"A carefully curated duo of complementary scents, designed to match different moods and moments, delivering versatility, balance, and a premium fragrance experience in one exclusive set.", price:25, img:"assets/exclusive_duo.jpg" },
  { id:3, name:"Premium Trio", desc:"Three signature scents combined in one premium set, offering variety, value, and long-lasting fragrance performanceâ€”ideal for collection, gifting, or discovering your perfect scent.", price:37, img:"assets/premium_trio.jpg" }
];

let teamMembers = [
  { name:"Adam", role:"Founder", desc:"Whose deep interest in fragrance and branding inspired him to create a perfume brand that reflects confidence, sophistication, and individuality.", img:"assets/adam.jpg" },
  { name:"Harris", role:"CEO", desc:"Leads the company's strategic direction and long-term growth. Harris focuses on brand development, market expansion, and ensuring that Luxe' Vera remains competitive while staying true to its luxurious yet accessible identity.", img:"assets/harris.jpg" },
  { name:"Azlina", role:"Manager", desc:"Plays a vital role in ensuring smooth workflow, quality control, and customer satisfaction.", img:"assets/azlina.jpg" },
  { name:"Aliesa", role:"Designer", desc:"Responsible for the brand's visual identity, packaging design, and overall aesthetic. Her designs reflect elegance, modern luxury, and simplicity.", img:"assets/aliesa.jpg" }
];

let testimonials = [
  { name:"Sophia R.", text:"Luxe' Vera delivers a refined and sophisticated fragrance that feels effortlessly luxurious. A scent I truly trust for every occasion.", title:"Esteemed Client", img:"assets/sophia.avif" },
  { name:"Daniel M.", text:"The craftsmanship behind Luxe' Vera is exceptional. From the fragrance to the packaging, every detail reflects elegance.", title:"Private Customer", img:"assets/daniel.jpg" },
  { name:"Aisha K.", text:"A beautifully balanced scent with impressive longevity. Luxe' Vera embodies modern luxury in a compact form.", title:"Loyal Client", img:"assets/aisha.jpg" },
  { name:"Farah N.", text:"I've been wearing Luxe' Vera for months now and I still receive compliments every time. The scent is truly captivating.", title:"Devoted Client", img:"assets/farah.jpg" },
  { name:"Ryan T.", text:"As someone who values quality fragrances, Luxe' Vera exceeded my expectations. Perfect for both casual and formal settings.", title:"Valued Patron", img:"assets/ryan.avif" },
  { name:"Hana S.", text:"The travel-friendly size is brilliant. I carry Luxe' Vera everywhere, and it never fails to make me feel confident.", title:"Regular Client", img:"assets/hana.avif" },
  { name:"Iman Z.", text:"The packaging is stunning and the fragrance lasts all day. Luxe' Vera is my go-to gift for friends and family.", title:"Premium Client", img:"assets/iman.jpg" },
  { name:"Marcus L.", text:"Absolutely love the versatility of these scents. Each one tells a different story. Luxe' Vera understands perfumery.", title:"Fragrance Enthusiast", img:"assets/marcus.jpg" },
  { name:"Natasha W.", text:"Elegant, affordable, and long-lasting. Luxe' Vera has changed how I think about mini perfumes. Highly recommended!", title:"Loyal Supporter", img:"assets/natasha.jpg" },
  { name:"Liam C.", text:"A perfect blend of quality and affordability. Luxe' Vera is now my signature scent for every day.", title:"Daily Wearer", img:"assets/liam.jpg" },
  { name:"Zara M.", text:"I gifted the Premium Trio to my best friend and she absolutely loved it. The presentation is top-notch!", title:"Gift Buyer", img:"assets/zara.jpg" },
  { name:"Arif H.", text:"From the first spray, I was hooked. Luxe' Vera has a unique character that sets it apart from other mini perfumes.", title:"Scent Connoisseur", img:"assets/arif.jpg" }
];

const faqs = [
  { q:"Is Luxe' Vera suitable for daily and formal wear?", a:"Yes. Luxe' Vera is carefully designed to transition seamlessly from day to evening. The fragrance is light and refreshing enough for daily activities such as work, classes, and casual outings, yet refined and elegant enough for formal events, dinners, and special occasions." },
  { q:"Is Luxe' Vera suited for all genders?", a:"Yes. Luxe' Vera fragrances are created with a modern approach, making them suitable for all genders. Each scent is thoughtfully balanced to combine freshness, warmth, and sophistication, allowing individuals to choose a fragrance based on personal taste and mood rather than gender labels." },
  { q:"How long does the fragrance last?", a:"Luxe' Vera is formulated to deliver long-lasting scent performance despite its compact size. On average, the fragrance lasts between 6 to 8 hours, depending on factors such as skin type, body temperature, environment, and application technique." },
  { q:"Is the mini perfume size practical for everyday use and travel?", a:"Yes. The mini perfume format is designed for maximum convenience. Its compact and lightweight size fits easily in a pocket, handbag, or travel pouch." }
];

// ====================== STATE ======================
let cart = [];
let orders = JSON.parse(localStorage.getItem('lv_orders') || '[]');
let notifications = JSON.parse(localStorage.getItem('lv_notifs') || '[]');
let settings = JSON.parse(localStorage.getItem('lv_settings') || '{}');

// Load saved edits
const sp = localStorage.getItem('lv_products'); if(sp) products = JSON.parse(sp);
const st = localStorage.getItem('lv_team'); if(st) teamMembers = JSON.parse(st);
const ste = localStorage.getItem('lv_testimonials'); if(ste) testimonials = JSON.parse(ste);

// ====================== RENDER ======================
function renderProducts() {
  document.getElementById('productGrid').innerHTML = products.map(p => `
    <div class="p-card reveal">
      <div class="p-card-img">
        ${p.img ? `<img src="${p.img}" alt="${p.name}">` : `<div class="p-card-placeholder"><i class="fas fa-spray-can"></i></div>`}
      </div>
      <div class="p-card-body">
        <h3 class="p-card-name">${p.name}</h3>
        <p class="p-card-desc">${p.desc}</p>
        <p class="p-card-meta"><i class="fas fa-ruler-combined"></i> 10ml &middot; Compact Design</p>
        <div class="p-card-footer">
          <div class="p-card-price"><small>RM</small> ${p.price}</div>
          <button class="btn btn-primary btn-sm" onclick="addToCart(${p.id})"><i class="fas fa-plus"></i> Add</button>
        </div>
      </div>
    </div>
  `).join('');
  observeReveal();
}

function renderTeam() {
  document.getElementById('teamGrid').innerHTML = teamMembers.map(m => `
    <div class="t-card">
      <div class="t-avatar">
        ${m.img ? `<img src="${m.img}" alt="${m.name}">` : `<i class="fas fa-user"></i>`}
      </div>
      <h4 class="t-name">${m.name}</h4>
      <p class="t-role">${m.role}</p>
      <p class="t-desc">${m.desc}</p>
    </div>
  `).join('');
}

function renderTestimonials() {
  document.getElementById('testimonialGrid').innerHTML = testimonials.map(t => `
    <div class="test-card">
      <div class="test-header">
        <div class="test-avatar">
          ${t.img ? `<img src="${t.img}" alt="${t.name}">` : `<span>${t.name.charAt(0)}</span>`}
        </div>
        <div>
          <p class="test-name">${t.name}</p>
          <p class="test-title">${t.title}</p>
        </div>
      </div>
      <p class="test-text">"${t.text}"</p>
      <div class="test-stars">${'<i class="fas fa-star"></i>'.repeat(5)}</div>
    </div>
  `).join('');
}

function renderFAQs() {
  document.getElementById('faqContainer').innerHTML = faqs.map((f,i) => `
    <div class="faq-item">
      <div class="faq-q" onclick="toggleFAQ(${i})" id="faqQ${i}">
        <span>${f.q}</span>
        <i class="fas fa-chevron-down"></i>
      </div>
      <div class="faq-a" id="faqA${i}">${f.a}</div>
    </div>
  `).join('');
}

// ====================== SIDE MENU ======================
function toggleSideMenu() {
  document.getElementById('hamburgerBtn').classList.toggle('open');
  document.getElementById('sideMenu').classList.toggle('open');
  document.getElementById('sideOverlay').classList.toggle('open');
}

// ====================== MODALS ======================
function openModal(id) {
  // Pre-render for specific modals
  if(id === 'cartModal') renderCart();
  if(id === 'notifModal') renderNotifications();
  if(id === 'orderHistoryModal') renderOrderHistory();
  if(id === 'settingsModal') loadSettings();
  document.getElementById(id).classList.add('open');
  document.body.style.overflow = 'hidden';
}
function closeModal(id) {
  document.getElementById(id).classList.remove('open');
  document.body.style.overflow = '';
}
// Close modal on overlay click
document.querySelectorAll('.modal-overlay').forEach(el => {
  el.addEventListener('click', e => { if(e.target === el) { el.classList.remove('open'); document.body.style.overflow=''; } });
});

// ====================== FAQ ======================
function toggleFAQ(i) {
  const q = document.getElementById('faqQ'+i);
  const a = document.getElementById('faqA'+i);
  const isOpen = a.classList.contains('active');
  // Close all first
  document.querySelectorAll('.faq-a').forEach(el => el.classList.remove('active'));
  document.querySelectorAll('.faq-q').forEach(el => el.classList.remove('active'));
  if(!isOpen) { a.classList.add('active'); q.classList.add('active'); }
}

// ====================== TOAST ======================
function showToast(msg, icon='fa-check-circle') {
  const container = document.getElementById('toastContainer');
  const t = document.createElement('div');
  t.className = 'toast';
  t.innerHTML = `<i class="fas ${icon}"></i> ${msg}`;
  container.appendChild(t);
  requestAnimationFrame(() => requestAnimationFrame(() => t.classList.add('show')));
  setTimeout(() => {
    t.classList.remove('show');
    setTimeout(() => t.remove(), 400);
  }, 3500);
}

// ====================== CART ======================
function addToCart(id) {
  const product = products.find(p => p.id === id);
  const existing = cart.find(c => c.id === id);
  if(existing) existing.qty++;
  else cart.push({...product, qty:1});
  updateCartBadge();
  showToast(`${product.name} added to cart!`, 'fa-shopping-bag');
}

function updateCartBadge() {
  const badge = document.getElementById('cartBadge');
  const total = cart.reduce((s,c) => s+c.qty, 0);
  badge.style.display = total > 0 ? 'flex' : 'none';
  badge.textContent = total;
}

function renderCart() {
  const items = document.getElementById('cartItems');
  const footer = document.getElementById('cartFooter');
  const empty = document.getElementById('cartEmpty');
  if(cart.length === 0) {
    items.innerHTML = '';
    footer.style.display = 'none';
    empty.style.display = 'block';
    return;
  }
  empty.style.display = 'none';
  footer.style.display = 'block';
  items.innerHTML = cart.map((c,i) => `
    <div class="cart-item">
      <div class="cart-item-img">
        ${c.img ? `<img src="${c.img}">` : `<i class="fas fa-spray-can"></i>`}
      </div>
      <div class="cart-item-info">
        <p class="cart-item-name">${c.name}</p>
        <p class="cart-item-price">RM ${c.price} each</p>
      </div>
      <div class="qty-controls">
        <button class="qty-btn" onclick="cartQty(${i},-1)">-</button>
        <span class="qty-val">${c.qty}</span>
        <button class="qty-btn" onclick="cartQty(${i},1)">+</button>
      </div>
      <span class="cart-item-total">RM ${c.price * c.qty}</span>
      <button class="cart-item-del" onclick="cartRemove(${i})"><i class="fas fa-trash-alt"></i></button>
    </div>
  `).join('');
  const subtotal = cart.reduce((s,c) => s + c.price*c.qty, 0);
  document.getElementById('cartSubtotal').textContent = 'RM ' + subtotal;
  document.getElementById('cartShipping').textContent = 'RM 8';
  document.getElementById('cartTotal').textContent = 'RM ' + (subtotal + 8);
}

function cartQty(i,d) { cart[i].qty += d; if(cart[i].qty < 1) cart[i].qty = 1; renderCart(); updateCartBadge(); }
function cartRemove(i) { cart.splice(i,1); renderCart(); updateCartBadge(); }

// ====================== CHECKOUT ======================
function proceedCheckout() {
  if(cart.length === 0) { showToast('Cart is empty!','fa-exclamation-triangle'); return; }
  closeModal('cartModal');
  // Prefill
  if(settings.name) document.getElementById('coName').value = settings.name;
  if(settings.email) document.getElementById('coEmail').value = settings.email;
  if(settings.phone) document.getElementById('coPhone').value = settings.phone;
  if(settings.address) document.getElementById('coAddress').value = settings.address;
  if(settings.postcode) document.getElementById('coPostcode').value = settings.postcode;
  if(settings.payment) document.getElementById('coPayment').value = settings.payment;
  updateCheckoutSummary();
  setTimeout(() => openModal('checkoutModal'), 200);
}

function updateCheckoutSummary() {
  const subtotal = cart.reduce((s,c) => s + c.price*c.qty, 0);
  const shipCost = parseInt(document.getElementById('coShipping').value);
  const shipLabels = {8:'Standard (5 days)',10:'Express (3 days)',12:'Priority (2 days)'};
  const total = subtotal + shipCost;
  document.getElementById('coSummary').innerHTML = `
    <p style="color:var(--gold);font-weight:600;margin-bottom:12px;font-size:14px;">Order Summary</p>
    ${cart.map(c => `<div class="summary-row"><span>${c.name} &times; ${c.qty}</span><span>RM ${c.price*c.qty}</span></div>`).join('')}
    <div class="summary-row" style="margin-top:8px;padding-top:8px;border-top:1px solid var(--gold10);"><span>Shipping (${shipLabels[shipCost]})</span><span>RM ${shipCost}</span></div>
    <div class="summary-total"><span>Total</span><span>RM ${total}</span></div>
  `;
}

function placeOrder() {
  const name = document.getElementById('coName').value.trim();
  const email = document.getElementById('coEmail').value.trim();
  const phone = document.getElementById('coPhone').value.trim();
  const address = document.getElementById('coAddress').value.trim();
  const postcode = document.getElementById('coPostcode').value.trim();
  const shipCost = parseInt(document.getElementById('coShipping').value);
  const shipLabels = {8:'Standard (5 days)',10:'Express (3 days)',12:'Priority (2 days)'};
  const payment = document.getElementById('coPayment').value;

  if(!name || !email || !phone || !address || !postcode) {
    showToast('Please fill in all required fields!', 'fa-exclamation-triangle');
    return;
  }

  const subtotal = cart.reduce((s,c) => s + c.price*c.qty, 0);
  const total = subtotal + shipCost;
  const orderId = 'LV-' + Date.now().toString(36).toUpperCase();
  const orderDate = new Date().toLocaleString('en-MY');
  const orderItems = cart.map(c => `${c.name} x${c.qty} = RM${c.price*c.qty}`).join(' | ');

  const order = {
    id:orderId, date:orderDate, items:[...cart],
    subtotal, shippingCost:shipCost, shippingLabel:shipLabels[shipCost],
    total, name, email, phone, address, postcode, payment, status:'Placed'
  };

  orders.push(order);
  localStorage.setItem('lv_orders', JSON.stringify(orders));
  addNotification(`Order ${orderId} placed successfully! Total: RM ${total}`);

  // Send email via FormSubmit
  sendOrderEmail(order);

  cart = [];
  updateCartBadge();
  closeModal('checkoutModal');
  showToast(`Order ${orderId} placed successfully!`, 'fa-check-circle');
}

function sendOrderEmail(order) {
  const orderItemsText = order.items.map(c => `${c.name} x${c.qty} = RM${c.price*c.qty}`).join(', ');

  const form = document.createElement('form');
  form.method = 'POST';
  form.action = 'https://formsubmit.co/flickfocus738@gmail.com';
  form.target = 'hiddenFrame';
  form.style.display = 'none';

  const fields = {
    '_subject': `New Order ${order.id} - Luxe' Vera`,
    '_captcha': 'false',
    '_template': 'table',
    'Order ID': order.id,
    'Date': order.date,
    'Customer Name': order.name,
    'Customer Email': order.email,
    'Customer Phone': order.phone,
    'Delivery Address': `${order.address}, ${order.postcode}`,
    'Order Items': orderItemsText,
    'Subtotal': `RM ${order.subtotal}`,
    'Shipping': `${order.shippingLabel} - RM ${order.shippingCost}`,
    'Total': `RM ${order.total}`,
    'Payment Method': order.payment,
    'Status': order.status
  };

  for(const [k,v] of Object.entries(fields)) {
    const input = document.createElement('input');
    input.type = 'hidden'; input.name = k; input.value = v;
    form.appendChild(input);
  }

  document.body.appendChild(form);
  form.submit();
  setTimeout(() => { if(form.parentNode) document.body.removeChild(form); }, 3000);
}

// ====================== CANCEL ORDER ======================
function cancelOrder(id) {
  const idx = orders.findIndex(o => o.id === id);
  if(idx === -1) return;
  orders[idx].status = 'Cancelled';
  localStorage.setItem('lv_orders', JSON.stringify(orders));
  addNotification(`Order ${id} has been cancelled.`);

  // Send cancellation email
  const order = orders[idx];
  const form = document.createElement('form');
  form.method = 'POST';
  form.action = 'https://formsubmit.co/flickfocus738@gmail.com';
  form.target = 'hiddenFrame';
  form.style.display = 'none';

  const fields = {
    '_subject': `ORDER CANCELLED - ${order.id} - Luxe' Vera`,
    '_captcha': 'false',
    '_template': 'table',
    'Order ID': order.id,
    'Status': 'CANCELLED',
    'Customer Name': order.name,
    'Customer Email': order.email,
    'Customer Phone': order.phone,
    'Original Total': `RM ${order.total}`,
    'Reason': 'Cancelled by customer'
  };

  for(const [k,v] of Object.entries(fields)) {
    const input = document.createElement('input');
    input.type = 'hidden'; input.name = k; input.value = v;
    form.appendChild(input);
  }

  document.body.appendChild(form);
  form.submit();
  setTimeout(() => { if(form.parentNode) document.body.removeChild(form); }, 3000);

  showToast(`Order ${id} cancelled.`, 'fa-times-circle');
  renderOrderHistory();
}

// ====================== NOTIFICATIONS ======================
function addNotification(msg) {
  notifications.unshift({ msg, time:new Date().toLocaleString('en-MY'), read:false });
  localStorage.setItem('lv_notifs', JSON.stringify(notifications));
  updateNotifDot();
}

function updateNotifDot() {
  const dot = document.getElementById('notifDot');
  const unread = notifications.filter(n => !n.read).length;
  dot.style.display = unread > 0 ? 'block' : 'none';
}

function renderNotifications() {
  const list = document.getElementById('notifList');
  const empty = document.getElementById('notifEmpty');
  if(notifications.length === 0) {
    list.innerHTML = '';
    empty.style.display = 'block';
    return;
  }
  empty.style.display = 'none';
  list.innerHTML = notifications.map(n => `
    <div class="notif-item ${n.read?'read':''}">
      <p class="notif-msg">${n.msg}</p>
      <p class="notif-time">${n.time}</p>
    </div>
  `).join('');
  notifications.forEach(n => n.read = true);
  localStorage.setItem('lv_notifs', JSON.stringify(notifications));
  updateNotifDot();
}

// ====================== ORDER HISTORY ======================
function renderOrderHistory() {
  const list = document.getElementById('orderHistoryList');
  const empty = document.getElementById('orderHistoryEmpty');
  if(orders.length === 0) {
    list.innerHTML = '';
    empty.style.display = 'block';
    return;
  }
  empty.style.display = 'none';
  list.innerHTML = orders.slice().reverse().map(o => `
    <div class="order-card">
      <div class="order-header">
        <div>
          <span class="order-id">${o.id}</span>
          <span class="order-date" style="margin-left:8px;">${o.date}</span>
        </div>
        <span class="order-status ${o.status==='Placed'?'status-placed':'status-cancelled'}">${o.status}</span>
      </div>
      <div style="margin-bottom:10px;">
        ${o.items.map(it => `<span style="display:inline-block;margin-right:14px;color:#ccc;font-size:13px;">${it.name} &times;${it.qty}</span>`).join('')}
      </div>
      <div style="display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:8px;">
        <span style="color:var(--gold);font-weight:700;">Total: RM ${o.total}</span>
        ${o.status==='Placed' ? `<button class="btn btn-outline btn-sm btn-danger" onclick="cancelOrder('${o.id}')"><i class="fas fa-times"></i> Cancel</button>` : ''}
      </div>
    </div>
  `).join('');
}

// ====================== SETTINGS ======================
function loadSettings() {
  if(settings.name) document.getElementById('setName').value = settings.name;
  if(settings.email) document.getElementById('setEmail').value = settings.email;
  if(settings.phone) document.getElementById('setPhone').value = settings.phone;
  if(settings.address) document.getElementById('setAddress').value = settings.address;
  if(settings.postcode) document.getElementById('setPostcode').value = settings.postcode;
  if(settings.payment) document.getElementById('setPayment').value = settings.payment;
}

function saveSettings() {
  settings = {
    name: document.getElementById('setName').value.trim(),
    email: document.getElementById('setEmail').value.trim(),
    phone: document.getElementById('setPhone').value.trim(),
    address: document.getElementById('setAddress').value.trim(),
    postcode: document.getElementById('setPostcode').value.trim(),
    payment: document.getElementById('setPayment').value
  };
  localStorage.setItem('lv_settings', JSON.stringify(settings));
  showToast('Settings saved successfully!', 'fa-save');
  closeModal('settingsModal');
}

// ====================== EDIT MODE (Code: Dodge) ======================
function checkAccessCode() {
  const code = document.getElementById('sideCodeInput').value.trim();
  if(code === 'Dodge') {
    document.getElementById('sideCodeInput').value = '';
    toggleSideMenu();
    showEditTab('products');
    openModal('editModal');
    showToast('Edit mode activated!', 'fa-lock-open');
  } else {
    showToast('Invalid access code.', 'fa-lock');
  }
}

function showEditTab(tab) {
  document.querySelectorAll('.edit-tab').forEach(el => el.classList.remove('active'));
  document.getElementById(tab==='products'?'etProducts':tab==='team'?'etTeam':'etTestimonials').classList.add('active');

  const content = document.getElementById('editContent');

  if(tab === 'products') {
    content.innerHTML = products.map((p,i) => `
      <div class="edit-card">
        <h4>${p.name}</h4>
        <div class="form-group">
          <label class="form-label">Product Image</label>
          ${p.img ? `<img src="${p.img}" style="width:100px;height:100px;object-fit:cover;border-radius:10px;display:block;margin-bottom:8px;border:2px solid var(--accent);">` : '<p style="color:#666;font-size:12px;margin-bottom:6px;">No image uploaded</p>'}
          <input type="file" accept="image/*" class="form-input" style="padding:8px;" onchange="handleImgUpload(event,'product',${i})">
        </div>
        <div class="form-group">
          <label class="form-label">Name</label>
          <input class="form-input" type="text" value="${p.name}" id="ep_name${i}">
        </div>
        <div class="form-group">
          <label class="form-label">Price (RM)</label>
          <input class="form-input" type="number" value="${p.price}" id="ep_price${i}">
        </div>
        <div class="form-group">
          <label class="form-label">Description</label>
          <textarea class="form-input" rows="3" id="ep_desc${i}">${p.desc}</textarea>
        </div>
        <button class="btn btn-primary btn-sm" onclick="saveProductEdit(${i})"><i class="fas fa-save"></i> Save Changes</button>
      </div>
    `).join('');
  } else if(tab === 'team') {
    content.innerHTML = teamMembers.map((m,i) => `
      <div class="edit-card">
        <h4>${m.name} â€” ${m.role}</h4>
        <div class="form-group">
          <label class="form-label">Photo</label>
          ${m.img ? `<img src="${m.img}" style="width:70px;height:70px;object-fit:cover;border-radius:50%;display:block;margin-bottom:8px;border:2px solid var(--accent);">` : '<p style="color:#666;font-size:12px;margin-bottom:6px;">No photo uploaded</p>'}
          <input type="file" accept="image/*" class="form-input" style="padding:8px;" onchange="handleImgUpload(event,'team',${i})">
        </div>
        <div class="form-group">
          <label class="form-label">Name</label>
          <input class="form-input" type="text" value="${m.name}" id="et_name${i}">
        </div>
        <div class="form-group">
          <label class="form-label">Role</label>
          <input class="form-input" type="text" value="${m.role}" id="et_role${i}">
        </div>
        <div class="form-group">
          <label class="form-label">Description</label>
          <textarea class="form-input" rows="2" id="et_desc${i}">${m.desc}</textarea>
        </div>
        <button class="btn btn-primary btn-sm" onclick="saveTeamEdit(${i})"><i class="fas fa-save"></i> Save Changes</button>
      </div>
    `).join('');
  } else {
    content.innerHTML = testimonials.map((t,i) => `
      <div class="edit-card">
        <h4>${t.name}</h4>
        <div class="form-group">
          <label class="form-label">Photo</label>
          ${t.img ? `<img src="${t.img}" style="width:50px;height:50px;object-fit:cover;border-radius:50%;display:block;margin-bottom:8px;border:2px solid var(--accent);">` : '<p style="color:#666;font-size:12px;margin-bottom:6px;">No photo uploaded</p>'}
          <input type="file" accept="image/*" class="form-input" style="padding:8px;" onchange="handleImgUpload(event,'testimonial',${i})">
        </div>
        <div class="form-group">
          <label class="form-label">Name</label>
          <input class="form-input" type="text" value="${t.name}" id="ets_name${i}">
        </div>
        <div class="form-group">
          <label class="form-label">Title</label>
          <input class="form-input" type="text" value="${t.title}" id="ets_title${i}">
        </div>
        <div class="form-group">
          <label class="form-label">Testimonial</label>
          <textarea class="form-input" rows="3" id="ets_text${i}">${t.text}</textarea>
        </div>
        <button class="btn btn-primary btn-sm" onclick="saveTestimonialEdit(${i})"><i class="fas fa-save"></i> Save Changes</button>
      </div>
    `).join('');
  }
}

function handleImgUpload(event, type, index) {
  const file = event.target.files[0];
  if(!file) return;
  // Compress image
  const reader = new FileReader();
  reader.onload = function(e) {
    const img = new Image();
    img.onload = function() {
      const canvas = document.createElement('canvas');
      const MAX = 400;
      let w = img.width, h = img.height;
      if(w > h) { if(w > MAX) { h *= MAX/w; w = MAX; } }
      else { if(h > MAX) { w *= MAX/h; h = MAX; } }
      canvas.width = w; canvas.height = h;
      canvas.getContext('2d').drawImage(img, 0, 0, w, h);
      const dataUrl = canvas.toDataURL('image/jpeg', 0.8);

      if(type === 'product') {
        products[index].img = dataUrl;
        localStorage.setItem('lv_products', JSON.stringify(products));
        renderProducts();
        showEditTab('products');
      } else if(type === 'team') {
        teamMembers[index].img = dataUrl;
        localStorage.setItem('lv_team', JSON.stringify(teamMembers));
        renderTeam();
        showEditTab('team');
      } else {
        testimonials[index].img = dataUrl;
        localStorage.setItem('lv_testimonials', JSON.stringify(testimonials));
        renderTestimonials();
        showEditTab('testimonials');
      }
      showToast('Image uploaded!', 'fa-image');
    };
    img.src = e.target.result;
  };
  reader.readAsDataURL(file);
}

function saveProductEdit(i) {
  products[i].name = document.getElementById('ep_name'+i).value;
  products[i].price = parseFloat(document.getElementById('ep_price'+i).value) || 0;
  products[i].desc = document.getElementById('ep_desc'+i).value;
  localStorage.setItem('lv_products', JSON.stringify(products));
  renderProducts();
  showToast('Product updated!', 'fa-check');
  showEditTab('products');
}

function saveTeamEdit(i) {
  teamMembers[i].name = document.getElementById('et_name'+i).value;
  teamMembers[i].role = document.getElementById('et_role'+i).value;
  teamMembers[i].desc = document.getElementById('et_desc'+i).value;
  localStorage.setItem('lv_team', JSON.stringify(teamMembers));
  renderTeam();
  showToast('Team member updated!', 'fa-check');
  showEditTab('team');
}

function saveTestimonialEdit(i) {
  testimonials[i].name = document.getElementById('ets_name'+i).value;
  testimonials[i].title = document.getElementById('ets_title'+i).value;
  testimonials[i].text = document.getElementById('ets_text'+i).value;
  localStorage.setItem('lv_testimonials', JSON.stringify(testimonials));
  renderTestimonials();
  showToast('Testimonial updated!', 'fa-check');
  showEditTab('testimonials');
}

// ====================== SCROLL EFFECTS ======================
// Navbar scroll effect
window.addEventListener('scroll', () => {
  document.getElementById('navbar').classList.toggle('scrolled', window.scrollY > 50);
});

// Reveal on scroll
function observeReveal() {
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if(entry.isIntersecting) { entry.target.classList.add('visible'); observer.unobserve(entry.target); }
    });
  }, { threshold:0.1, rootMargin:'0px 0px -40px 0px' });
  document.querySelectorAll('.reveal:not(.visible)').forEach(el => observer.observe(el));
}

// ====================== INIT ======================
renderProducts();
renderTeam();
renderTestimonials();
renderFAQs();
updateNotifDot();
updateCartBadge();
observeReveal();
</script>
</body>
</html>
